{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Khyati/Downloads/Synapse Core/TE Paper/locust_attack/LLAM-V2/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Khyati/Downloads/Synapse Core/TE Paper/locust_attack/LLAM-V2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Khyati\\\\Downloads\\\\Synapse Core\\\\TE Paper\\\\locust_attack\\\\LLAM-V2\\\\components\\\\Tracking\\\\Tracking.js\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from 'react';\nimport axios from \"axios\";\nimport Footer from \"../../components/UI/Footer/Footer\";\nimport * as Cesium from 'cesium';\nimport CesiumWind from \"./Wind\";\nimport GaugeChart from 'react-gauge-chart';\nimport classes from \"./Tracking.module.scss\"; // fetching locust locations\n\nvar fetchData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = [];\n            _context.next = 3;\n            return axios.get(\"https://services5.arcgis.com/sjP4Ugu5s0dZWLjd/arcgis/rest/services/Swarms_Public/FeatureServer/0/query?where=STARTDATE%20%3E%3D%20TIMESTAMP%20%272021-01-01%2000%3A00%3A00%27%20AND%20STARTDATE%20%3C%3D%20TIMESTAMP%20%272021-04-04%2000%3A00%3A00%27&outFields=STARTDATE,LOCNAME,COUNTRYID,LOCPRESENT&outSR=4326&f=json\").then(function (response) {\n              response.data.features.map(function (pos) {\n                console.log(pos);\n                data.push({\n                  longitude: pos.geometry.x,\n                  latitude: pos.geometry.y\n                });\n              });\n            });\n\n          case 3:\n            return _context.abrupt(\"return\", data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchData() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar usePrevious = function usePrevious(value) {\n  _s();\n\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  console.log(value);\n  var ref = useRef(); // Store current value in ref\n\n  useEffect(function () {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n\n  return ref.current;\n};\n\n_s(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nvar Tracking = function Tracking() {\n  _s2();\n\n  var _useState = useState(0),\n      longitude = _useState[0],\n      setLongitude = _useState[1];\n\n  var _useState2 = useState(0),\n      latitude = _useState2[0],\n      setLatitude = _useState2[1];\n\n  var _useState3 = useState(null),\n      predictedData = _useState3[0],\n      setPredictedData = _useState3[1];\n\n  var _useState4 = useState(\"Predict\"),\n      displayButtonMessage = _useState4[0],\n      setDisplayButtonMessage = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      displayMessage = _useState5[0],\n      setDisplayMessage = _useState5[1];\n\n  var init = function init(locationData) {\n    // default view over India\n    var west = 68.0;\n    var south = 7.0;\n    var east = 89.0;\n    var north = 35.0;\n    var indiaPosition = Cesium.Rectangle.fromDegrees(west, south, east, north);\n    Cesium.Camera.DEFAULT_VIEW_FACTOR = 2;\n    Cesium.Camera.DEFAULT_VIEW_RECTANGLE = indiaPosition;\n    var imagery = Cesium.createDefaultImageryProviderViewModels(); // initialize viewer\n\n    var viewer = new Cesium.Viewer(\"cesium\", {\n      scene3DOnly: false,\n      selectionIndicator: true,\n      imageryProviderViewModels: imagery,\n      selectedImageryProviderViewModel: imagery[1],\n      animation: false,\n      timeline: false // automaticallyTrackDataSourceClocks: false\n\n    }); // removing the stars\n    // var scene = viewer.scene;\n    // scene.skyBox.destroy();\n    // scene.skyBox = undefined;\n    // viewer.imageryLayers.addImageryProvider(provider);\n    // enabling lighting effects due to sun\n    // adding sentinel 2a, meteo 10 and spot 6 satellite realtime visualization\n\n    viewer.dataSources.removeAll();\n    var dataSrc = Cesium.CzmlDataSource.load(\"sat.czml\");\n    viewer.dataSources.add(dataSrc); // var editHandler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);\n    // editHandler.setInputAction(function (e) {\n    //   var shapeEditMenu = document.getElementById(\"toolbar\");\n    //   shapeEditMenu.textContent = 'Testing';\n    //   shapeEditMenu.style.display = \"block\";\n    //   shapeEditMenu.style.left = e.position.x + 'px';\n    //   shapeEditMenu.style.top = e.position.y + 'px';\n    //   shapeEditMenu.style.background = 'rgba(42, 42, 42, 0.8)';\n    //   shapeEditMenu.style.border = '1px solid #888';\n    // }, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n    // editHandler.setInputAction(function (e) {\n    //   var shapeEditMenu = document.getElementById(\"toolbar\");\n    //   shapeEditMenu.style.display = \"none\";\n    // }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n    // adding predicted point\n    // if (prediction) {\n    //   viewer.entities.add({\n    //     position: Cesium.Cartesian3.fromDegrees(parseInt(longitude), parseInt(latitude)),\n    //     point: {\n    //       pixelSize: 30,\n    //       color: Cesium.Color.CRIMSON.withAlpha(0.4),\n    //     },\n    //   });\n    // }\n    // populating locust locations on globe\n\n    var billboards = viewer.scene.primitives.add(new Cesium.BillboardCollection());\n    {\n      locationData.map(function (coords) {\n        billboards.add({\n          position: Cesium.Cartesian3.fromDegrees(coords.longitude, coords.latitude),\n          image: '/Assets/Images/locust.png'\n        });\n      });\n    } // adding position marker\n\n    var entity = viewer.entities.add({\n      name: \"location\",\n      label: {\n        show: false,\n        showBackground: true,\n        font: \"14px monospace\",\n        style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n        horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n        verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\n        pixelOffset: new Cesium.Cartesian2(0, -9)\n      }\n    }); // showing position popup on mouse move\n\n    viewer.canvas.addEventListener('mousemove', function (e) {\n      var mousePosition = new Cesium.Cartesian2(e.clientX, e.clientY);\n      var ellipsoid = viewer.scene.globe.ellipsoid;\n      var cartesian = viewer.camera.pickEllipsoid(mousePosition, ellipsoid);\n\n      if (cartesian) {\n        var cartographic = ellipsoid.cartesianToCartographic(cartesian);\n        var longitudeString = Cesium.Math.toDegrees(cartographic.longitude).toFixed(2);\n        var latitudeString = Cesium.Math.toDegrees(cartographic.latitude).toFixed(2);\n        entity.position = cartesian;\n        entity.label.show = true;\n        entity.label.text = \"Lon: \" + (\"   \" + longitudeString).slice(-7) + \"\\xB0\" + \"\\nLat: \" + (\"   \" + latitudeString).slice(-7) + \"\\xB0\";\n      } else {\n        entity.label.show = false;\n      }\n    }, false); // Visualizing wind on the globe\n\n    var windOptions = {\n      colorScale: ['rgb(36,104, 180)', 'rgb(60,157, 194)', 'rgb(128,205,193 )', 'rgb(151,218,168 )', 'rgb(198,231,181)', 'rgb(238,247,217)', 'rgb(255,238,159)', 'rgb(252,217,125)', 'rgb(255,182,100)', 'rgb(252,150,75)', 'rgb(250,112,52)', 'rgb(245,64,32)', 'rgb(237,45,28)', 'rgb(220,24,32)', 'rgb(180,0,35)'],\n      frameRate: 16,\n      maxAge: 60,\n      globalAlpha: 0.9,\n      velocityScale: 1 / 30,\n      paths: 2000\n    };\n    fetch('https://qjvic.github.io/cesium-wind/examples/wind.json').then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      var windLayer = new CesiumWind(res, {\n        windOptions: windOptions\n      });\n      windLayer.addTo(viewer);\n    });\n  };\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var locationData;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetchData();\n\n          case 2:\n            locationData = _context2.sent;\n            // const prediction = await predictedData\n            init(locationData);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), []);\n  var prevLat = usePrevious(latitude);\n  var prevLong = usePrevious(longitude); // const prevPredictedData = usePrevious(predictedData);\n\n  var onFormSubmitHandler = function onFormSubmitHandler(event) {\n    event.preventDefault();\n    setDisplayButtonMessage(\"Predicting...\");\n    console.log(\"Longitude: \" + longitude);\n    console.log(\"Latitude: \" + latitude);\n    var lat = latitude;\n    var _long = longitude;\n\n    if (lat < 0 || _long < 0) {\n      setDisplayButtonMessage(\"Predict\");\n      setDisplayMessage(\"Invalid input\");\n      setPredictedData(0);\n    } else if (prevLat === lat && prevLong === _long) {\n      setDisplayButtonMessage(\"Predict\");\n      console.log(\"lat and long matched with prev values\");\n    } else {\n      var data = \"lat-\".concat(lat, \"-long-\").concat(_long);\n      axios.post(\"https://landcoverapi.azurewebsites.net/predict/\".concat(data)).then(function (response) {\n        setDisplayButtonMessage(\"Done ✔️\");\n        setDisplayMessage(\"Probability = \" + response.data.risk.toFixed(2) + \"%\"); // plotPredictedPoint(longitude, latitude)\n\n        setPredictedData(response.data.risk / 100);\n        console.log(response.data.risk / 100);\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  };\n\n  var onResetHandler = function onResetHandler(event) {\n    event.preventDefault();\n    setDisplayMessage(\"\");\n    setDisplayButtonMessage(\"Predict\");\n    setLongitude(0);\n    setLatitude(0);\n    setPredictedData(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"cesium\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"toolbar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.MetricsContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.Content,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Predict Probability of Locust Attack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.Form,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.FormEntity,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"longitude\",\n              children: \"longitude: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"long\",\n              value: longitude,\n              onChange: function onChange(e) {\n                return setLongitude(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.FormEntity,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"latitude\",\n              children: \"latitude: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"lat\",\n              value: latitude,\n              onChange: function onChange(e) {\n                return setLatitude(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.ButtonsContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onFormSubmitHandler,\n              children: displayButtonMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onResetHandler,\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.DisplayMessage,\n            children: displayMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.GuageContainer,\n        children: /*#__PURE__*/_jsxDEV(GaugeChart, {\n          id: \"gauge-chart2\",\n          nrOfLevels: 420,\n          arcsLength: [0.2, 0.5, 0.2],\n          colors: ['#5BE12C', '#F5CD19', '#EA4228'],\n          percent: predictedData,\n          arcPadding: 0.02\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s2(Tracking, \"eeuF6ni+DKJpCrwn5wLe01eaXuU=\", false, function () {\n  return [usePrevious, usePrevious];\n});\n\n_c = Tracking;\nexport default Tracking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tracking\");","map":{"version":3,"sources":["C:/Users/Khyati/Downloads/Synapse Core/TE Paper/locust_attack/LLAM-V2/components/Tracking/Tracking.js"],"names":["useEffect","useState","useRef","axios","Footer","Cesium","CesiumWind","GaugeChart","classes","fetchData","data","get","then","response","features","map","pos","console","log","push","longitude","geometry","x","latitude","y","usePrevious","value","ref","current","Tracking","setLongitude","setLatitude","predictedData","setPredictedData","displayButtonMessage","setDisplayButtonMessage","displayMessage","setDisplayMessage","init","locationData","west","south","east","north","indiaPosition","Rectangle","fromDegrees","Camera","DEFAULT_VIEW_FACTOR","DEFAULT_VIEW_RECTANGLE","imagery","createDefaultImageryProviderViewModels","viewer","Viewer","scene3DOnly","selectionIndicator","imageryProviderViewModels","selectedImageryProviderViewModel","animation","timeline","dataSources","removeAll","dataSrc","CzmlDataSource","load","add","billboards","scene","primitives","BillboardCollection","coords","position","Cartesian3","image","entity","entities","name","label","show","showBackground","font","style","LabelStyle","FILL_AND_OUTLINE","horizontalOrigin","HorizontalOrigin","LEFT","verticalOrigin","VerticalOrigin","BOTTOM","pixelOffset","Cartesian2","canvas","addEventListener","e","mousePosition","clientX","clientY","ellipsoid","globe","cartesian","camera","pickEllipsoid","cartographic","cartesianToCartographic","longitudeString","Math","toDegrees","toFixed","latitudeString","text","slice","windOptions","colorScale","frameRate","maxAge","globalAlpha","velocityScale","paths","fetch","res","json","windLayer","addTo","prevLat","prevLong","onFormSubmitHandler","event","preventDefault","lat","long","post","risk","error","onResetHandler","MetricsContainer","Content","Form","FormEntity","target","ButtonsContainer","DisplayMessage","GuageContainer"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAOC,UAAP,MAAuB,QAAvB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,OAAP,MAAoB,wBAApB,C,CAEA;;AACA,IAAMC,SAAS;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,YAAAA,IADY,GACL,EADK;AAAA;AAAA,mBAEVP,KAAK,CAACQ,GAAN,CAAU,2TAAV,EACHC,IADG,CACE,UAAAC,QAAQ,EAAI;AAChBA,cAAAA,QAAQ,CAACH,IAAT,CAAcI,QAAd,CAAuBC,GAAvB,CAA2B,UAAAC,GAAG,EAAI;AAChCC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAN,gBAAAA,IAAI,CAACS,IAAL,CAAU;AACRC,kBAAAA,SAAS,EAAEJ,GAAG,CAACK,QAAJ,CAAaC,CADhB;AAERC,kBAAAA,QAAQ,EAAEP,GAAG,CAACK,QAAJ,CAAaG;AAFf,iBAAV;AAID,eAND;AAOD,aATG,CAFU;;AAAA;AAAA,6CAYTd,IAZS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATD,SAAS;AAAA;AAAA;AAAA,GAAf;;AAeA,IAAMgB,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAAA;;AAC7B;AACA;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACA,MAAMC,GAAG,GAAGzB,MAAM,EAAlB,CAJ6B,CAK7B;;AACAF,EAAAA,SAAS,CAAC,YAAM;AACd2B,IAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT,CAN6B,CAQhB;AACb;;AACA,SAAOC,GAAG,CAACC,OAAX;AACD,CAXD;;GAAMH,W;;AAcN,IAAMI,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AAAA,kBACa5B,QAAQ,CAAC,CAAD,CADrB;AAAA,MACdmB,SADc;AAAA,MACHU,YADG;;AAAA,mBAEW7B,QAAQ,CAAC,CAAD,CAFnB;AAAA,MAEdsB,QAFc;AAAA,MAEJQ,WAFI;;AAAA,mBAGqB9B,QAAQ,CAAC,IAAD,CAH7B;AAAA,MAGd+B,aAHc;AAAA,MAGCC,gBAHD;;AAAA,mBAImChC,QAAQ,CAAC,SAAD,CAJ3C;AAAA,MAIdiC,oBAJc;AAAA,MAIQC,uBAJR;;AAAA,mBAKuBlC,QAAQ,CAAC,EAAD,CAL/B;AAAA,MAKdmC,cALc;AAAA,MAKEC,iBALF;;AAOrB,MAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,YAAD,EAAkB;AAC7B;AACA,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,KAAK,GAAG,GAAZ;AACA,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,KAAK,GAAG,IAAZ;AAEA,QAAIC,aAAa,GAAGvC,MAAM,CAACwC,SAAP,CAAiBC,WAAjB,CAA6BN,IAA7B,EAAmCC,KAAnC,EAA0CC,IAA1C,EAAgDC,KAAhD,CAApB;AAEAtC,IAAAA,MAAM,CAAC0C,MAAP,CAAcC,mBAAd,GAAoC,CAApC;AACA3C,IAAAA,MAAM,CAAC0C,MAAP,CAAcE,sBAAd,GAAuCL,aAAvC;AAEA,QAAIM,OAAO,GAAG7C,MAAM,CAAC8C,sCAAP,EAAd,CAZ6B,CAc7B;;AACA,QAAMC,MAAM,GAAG,IAAI/C,MAAM,CAACgD,MAAX,CAAkB,QAAlB,EAA4B;AACzCC,MAAAA,WAAW,EAAE,KAD4B;AAEzCC,MAAAA,kBAAkB,EAAE,IAFqB;AAGzCC,MAAAA,yBAAyB,EAAEN,OAHc;AAIzCO,MAAAA,gCAAgC,EAAEP,OAAO,CAAC,CAAD,CAJA;AAKzCQ,MAAAA,SAAS,EAAE,KAL8B;AAMzCC,MAAAA,QAAQ,EAAE,KAN+B,CAOzC;;AAPyC,KAA5B,CAAf,CAf6B,CAwB7B;AACA;AACA;AACA;AAEA;AACA;AAEA;;AACAP,IAAAA,MAAM,CAACQ,WAAP,CAAmBC,SAAnB;AACA,QAAIC,OAAO,GAAGzD,MAAM,CAAC0D,cAAP,CAAsBC,IAAtB,CAA2B,UAA3B,CAAd;AACAZ,IAAAA,MAAM,CAACQ,WAAP,CAAmBK,GAAnB,CAAuBH,OAAvB,EAnC6B,CAsC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,QAAII,UAAU,GAAGd,MAAM,CAACe,KAAP,CAAaC,UAAb,CAAwBH,GAAxB,CAA4B,IAAI5D,MAAM,CAACgE,mBAAX,EAA5B,CAAjB;AACA;AACE9B,MAAAA,YAAY,CAACxB,GAAb,CAAiB,UAAAuD,MAAM,EAAI;AACzBJ,QAAAA,UAAU,CAACD,GAAX,CAAe;AACbM,UAAAA,QAAQ,EAAElE,MAAM,CAACmE,UAAP,CAAkB1B,WAAlB,CAA8BwB,MAAM,CAAClD,SAArC,EAAgDkD,MAAM,CAAC/C,QAAvD,CADG;AAEbkD,UAAAA,KAAK,EAAE;AAFM,SAAf;AAID,OALD;AAMD,KA3E4B,CA6E7B;;AACA,QAAIC,MAAM,GAAGtB,MAAM,CAACuB,QAAP,CAAgBV,GAAhB,CAAoB;AAC/BW,MAAAA,IAAI,EAAE,UADyB;AAE/BC,MAAAA,KAAK,EAAE;AACLC,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,cAAc,EAAE,IAFX;AAGLC,QAAAA,IAAI,EAAE,gBAHD;AAILC,QAAAA,KAAK,EAAE5E,MAAM,CAAC6E,UAAP,CAAkBC,gBAJpB;AAKLC,QAAAA,gBAAgB,EAAE/E,MAAM,CAACgF,gBAAP,CAAwBC,IALrC;AAMLC,QAAAA,cAAc,EAAElF,MAAM,CAACmF,cAAP,CAAsBC,MANjC;AAOLC,QAAAA,WAAW,EAAE,IAAIrF,MAAM,CAACsF,UAAX,CAAsB,CAAtB,EAAyB,CAAC,CAA1B;AAPR;AAFwB,KAApB,CAAb,CA9E6B,CA2F7B;;AACAvC,IAAAA,MAAM,CAACwC,MAAP,CAAcC,gBAAd,CAA+B,WAA/B,EAA4C,UAAUC,CAAV,EAAa;AAEvD,UAAIC,aAAa,GAAG,IAAI1F,MAAM,CAACsF,UAAX,CAAsBG,CAAC,CAACE,OAAxB,EAAiCF,CAAC,CAACG,OAAnC,CAApB;AACA,UAAIC,SAAS,GAAG9C,MAAM,CAACe,KAAP,CAAagC,KAAb,CAAmBD,SAAnC;AACA,UAAIE,SAAS,GAAGhD,MAAM,CAACiD,MAAP,CAAcC,aAAd,CAA4BP,aAA5B,EAA2CG,SAA3C,CAAhB;;AAEA,UAAIE,SAAJ,EAAe;AACb,YAAIG,YAAY,GAAGL,SAAS,CAACM,uBAAV,CAAkCJ,SAAlC,CAAnB;AACA,YAAIK,eAAe,GAAGpG,MAAM,CAACqG,IAAP,CAAYC,SAAZ,CAAsBJ,YAAY,CAACnF,SAAnC,EAA8CwF,OAA9C,CAAsD,CAAtD,CAAtB;AACA,YAAIC,cAAc,GAAGxG,MAAM,CAACqG,IAAP,CAAYC,SAAZ,CAAsBJ,YAAY,CAAChF,QAAnC,EAA6CqF,OAA7C,CAAqD,CAArD,CAArB;AAEAlC,QAAAA,MAAM,CAACH,QAAP,GAAkB6B,SAAlB;AACA1B,QAAAA,MAAM,CAACG,KAAP,CAAaC,IAAb,GAAoB,IAApB;AACAJ,QAAAA,MAAM,CAACG,KAAP,CAAaiC,IAAb,GAAoB,UAClB,CAAC,QAAQL,eAAT,EAA0BM,KAA1B,CAAgC,CAAC,CAAjC,CADkB,GAElB,MAFkB,GAGlB,SAHkB,GAIlB,CAAC,QAAQF,cAAT,EAAyBE,KAAzB,CAA+B,CAAC,CAAhC,CAJkB,GAKlB,MALF;AAOD,OAdD,MAcO;AACLrC,QAAAA,MAAM,CAACG,KAAP,CAAaC,IAAb,GAAoB,KAApB;AACD;AAEF,KAxBD,EAwBG,KAxBH,EA5F6B,CAsH7B;;AACA,QAAMkC,WAAW,GAAG;AAClBC,MAAAA,UAAU,EAAE,CACV,kBADU,EAEV,kBAFU,EAGV,mBAHU,EAIV,mBAJU,EAKV,kBALU,EAMV,kBANU,EAOV,kBAPU,EAQV,kBARU,EASV,kBATU,EAUV,iBAVU,EAWV,iBAXU,EAYV,gBAZU,EAaV,gBAbU,EAcV,gBAdU,EAeV,eAfU,CADM;AAkBlBC,MAAAA,SAAS,EAAE,EAlBO;AAmBlBC,MAAAA,MAAM,EAAE,EAnBU;AAoBlBC,MAAAA,WAAW,EAAE,GApBK;AAqBlBC,MAAAA,aAAa,EAAE,IAAI,EArBD;AAsBlBC,MAAAA,KAAK,EAAE;AAtBW,KAApB;AAyBAC,IAAAA,KAAK,CAAC,wDAAD,CAAL,CACG3G,IADH,CACQ,UAAA4G,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADX,EAEG7G,IAFH,CAEQ,UAAA4G,GAAG,EAAI;AACX,UAAME,SAAS,GAAG,IAAIpH,UAAJ,CAAekH,GAAf,EAAoB;AAAER,QAAAA,WAAW,EAAXA;AAAF,OAApB,CAAlB;AACAU,MAAAA,SAAS,CAACC,KAAV,CAAgBvE,MAAhB;AACD,KALH;AAMD,GAtJD;;AAwJApD,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACmBS,SAAS,EAD5B;;AAAA;AACF8B,YAAAA,YADE;AAER;AACAD,YAAAA,IAAI,CAACC,YAAD,CAAJ;;AAHQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAIN,EAJM,CAAT;AAMA,MAAMqF,OAAO,GAAGnG,WAAW,CAACF,QAAD,CAA3B;AACA,MAAMsG,QAAQ,GAAGpG,WAAW,CAACL,SAAD,CAA5B,CAtKqB,CAuKrB;;AAEA,MAAM0G,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;AACrCA,IAAAA,KAAK,CAACC,cAAN;AACA7F,IAAAA,uBAAuB,CAAC,eAAD,CAAvB;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBE,SAA5B;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAeK,QAA3B;AACA,QAAI0G,GAAG,GAAG1G,QAAV;AACA,QAAI2G,KAAI,GAAG9G,SAAX;;AAEA,QAAI6G,GAAG,GAAG,CAAN,IAAWC,KAAI,GAAG,CAAtB,EAAyB;AACvB/F,MAAAA,uBAAuB,CAAC,SAAD,CAAvB;AACAE,MAAAA,iBAAiB,CAAC,eAAD,CAAjB;AACAJ,MAAAA,gBAAgB,CAAC,CAAD,CAAhB;AACD,KAJD,MAKK,IAAI2F,OAAO,KAAKK,GAAZ,IAAmBJ,QAAQ,KAAKK,KAApC,EAA0C;AAC7C/F,MAAAA,uBAAuB,CAAC,SAAD,CAAvB;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACD,KAHI,MAIA;AACH,UAAIR,IAAI,iBAAUuH,GAAV,mBAAsBC,KAAtB,CAAR;AACA/H,MAAAA,KAAK,CAACgI,IAAN,0DAA6DzH,IAA7D,GACGE,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBsB,QAAAA,uBAAuB,CAAC,SAAD,CAAvB;AACAE,QAAAA,iBAAiB,CAAC,mBAAmBxB,QAAQ,CAACH,IAAT,CAAc0H,IAAd,CAAmBxB,OAAnB,CAA2B,CAA3B,CAAnB,GAAmD,GAApD,CAAjB,CAFgB,CAGhB;;AACA3E,QAAAA,gBAAgB,CAACpB,QAAQ,CAACH,IAAT,CAAc0H,IAAd,GAAqB,GAAtB,CAAhB;AACAnH,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACH,IAAT,CAAc0H,IAAd,GAAqB,GAAjC;AACD,OAPH,WAQS,UAAAC,KAAK,EAAI;AACdpH,QAAAA,OAAO,CAACC,GAAR,CAAYmH,KAAZ;AACD,OAVH;AAWD;AACF,GA/BD;;AAkCA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACP,KAAD,EAAW;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACA3F,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACAF,IAAAA,uBAAuB,CAAC,SAAD,CAAvB;AACAL,IAAAA,YAAY,CAAC,CAAD,CAAZ;AACAC,IAAAA,WAAW,CAAC,CAAD,CAAX;AACAE,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GAPD;;AASA,sBACE;AAAA,4BACE;AAAK,MAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAK,MAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,aAFF,eAGE;AAAK,MAAA,SAAS,EAAEzB,OAAO,CAAC+H,gBAAxB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAE/H,OAAO,CAACgI,OAAxB;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAK,UAAA,SAAS,EAAEhI,OAAO,CAACiI,IAAxB;AAAA,kCACE;AAAK,YAAA,SAAS,EAAEjI,OAAO,CAACkI,UAAxB;AAAA,oCACE;AAAO,cAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,IAAI,EAAC,MAAxB;AAA+B,cAAA,KAAK,EAAEtH,SAAtC;AAAiD,cAAA,QAAQ,EAAE,kBAAC0E,CAAD;AAAA,uBAAOhE,YAAY,CAACgE,CAAC,CAAC6C,MAAF,CAASjH,KAAV,CAAnB;AAAA;AAA3D;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAKE;AAAK,YAAA,SAAS,EAAElB,OAAO,CAACkI,UAAxB;AAAA,oCACE;AAAO,cAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,IAAI,EAAC,KAAxB;AAA8B,cAAA,KAAK,EAAEnH,QAArC;AAA+C,cAAA,QAAQ,EAAE,kBAACuE,CAAD;AAAA,uBAAO/D,WAAW,CAAC+D,CAAC,CAAC6C,MAAF,CAASjH,KAAV,CAAlB;AAAA;AAAzD;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,eASE;AAAK,YAAA,SAAS,EAAElB,OAAO,CAACoI,gBAAxB;AAAA,oCACE;AAAQ,cAAA,OAAO,EAAEd,mBAAjB;AAAA,wBAAuC5F;AAAvC;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAQ,cAAA,OAAO,EAAEoG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBATF,eAaE;AAAK,YAAA,SAAS,EAAE9H,OAAO,CAACqI,cAAxB;AAAA,sBAAyCzG;AAAzC;AAAA;AAAA;AAAA;AAAA,mBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAmBE;AAAK,QAAA,SAAS,EAAE5B,OAAO,CAACsI,cAAxB;AAAA,+BACE,QAAC,UAAD;AAAY,UAAA,EAAE,EAAC,cAAf;AACE,UAAA,UAAU,EAAE,GADd;AAEE,UAAA,UAAU,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAFd;AAGE,UAAA,MAAM,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAHV;AAIE,UAAA,OAAO,EAAE9G,aAJX;AAKE,UAAA,UAAU,EAAE;AALd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,eAgCE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,aAhCF;AAAA,kBADF;AAoCD,CAxPD;;IAAMH,Q;UAqKYJ,W,EACCA,W;;;KAtKbI,Q;AA0PN,eAAeA,QAAf","sourcesContent":["import { useEffect, useState, useRef } from 'react';\r\nimport axios from \"axios\"\r\nimport Footer from \"../../components/UI/Footer/Footer\"\r\nimport * as Cesium from 'cesium';\r\nimport CesiumWind from \"./Wind\";\r\nimport GaugeChart from 'react-gauge-chart'\r\nimport classes from \"./Tracking.module.scss\"\r\n\r\n// fetching locust locations\r\nconst fetchData = async () => {\r\n  let data = []\r\n  await axios.get(\"https://services5.arcgis.com/sjP4Ugu5s0dZWLjd/arcgis/rest/services/Swarms_Public/FeatureServer/0/query?where=STARTDATE%20%3E%3D%20TIMESTAMP%20%272021-01-01%2000%3A00%3A00%27%20AND%20STARTDATE%20%3C%3D%20TIMESTAMP%20%272021-04-04%2000%3A00%3A00%27&outFields=STARTDATE,LOCNAME,COUNTRYID,LOCPRESENT&outSR=4326&f=json\")\r\n    .then(response => {\r\n      response.data.features.map(pos => {\r\n        console.log(pos)\r\n        data.push({\r\n          longitude: pos.geometry.x,\r\n          latitude: pos.geometry.y\r\n        })\r\n      })\r\n    })\r\n  return data\r\n}\r\n\r\nconst usePrevious = (value) => {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  console.log(value)\r\n  const ref = useRef();\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]); // Only re-run if value changes\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current;\r\n}\r\n\r\n\r\nconst Tracking = () => {\r\n  const [longitude, setLongitude] = useState(0)\r\n  const [latitude, setLatitude] = useState(0)\r\n  const [predictedData, setPredictedData] = useState(null)\r\n  const [displayButtonMessage, setDisplayButtonMessage] = useState(\"Predict\")\r\n  const [displayMessage, setDisplayMessage] = useState(\"\")\r\n\r\n  const init = (locationData) => {\r\n    // default view over India\r\n    var west = 68.0;\r\n    var south = 7.0;\r\n    var east = 89.0;\r\n    var north = 35.0;\r\n\r\n    var indiaPosition = Cesium.Rectangle.fromDegrees(west, south, east, north);\r\n\r\n    Cesium.Camera.DEFAULT_VIEW_FACTOR = 2;\r\n    Cesium.Camera.DEFAULT_VIEW_RECTANGLE = indiaPosition;\r\n\r\n    var imagery = Cesium.createDefaultImageryProviderViewModels();\r\n\r\n    // initialize viewer\r\n    const viewer = new Cesium.Viewer(\"cesium\", {\r\n      scene3DOnly: false,\r\n      selectionIndicator: true,\r\n      imageryProviderViewModels: imagery,\r\n      selectedImageryProviderViewModel: imagery[1],\r\n      animation: false,\r\n      timeline: false,\r\n      // automaticallyTrackDataSourceClocks: false\r\n    });\r\n    // removing the stars\r\n    // var scene = viewer.scene;\r\n    // scene.skyBox.destroy();\r\n    // scene.skyBox = undefined;\r\n\r\n    // viewer.imageryLayers.addImageryProvider(provider);\r\n    // enabling lighting effects due to sun\r\n\r\n    // adding sentinel 2a, meteo 10 and spot 6 satellite realtime visualization\r\n    viewer.dataSources.removeAll();\r\n    var dataSrc = Cesium.CzmlDataSource.load(\"sat.czml\");\r\n    viewer.dataSources.add(dataSrc);\r\n\r\n\r\n    // var editHandler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);\r\n    // editHandler.setInputAction(function (e) {\r\n    //   var shapeEditMenu = document.getElementById(\"toolbar\");\r\n    //   shapeEditMenu.textContent = 'Testing';\r\n    //   shapeEditMenu.style.display = \"block\";\r\n    //   shapeEditMenu.style.left = e.position.x + 'px';\r\n    //   shapeEditMenu.style.top = e.position.y + 'px';\r\n    //   shapeEditMenu.style.background = 'rgba(42, 42, 42, 0.8)';\r\n    //   shapeEditMenu.style.border = '1px solid #888';\r\n    // }, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\r\n\r\n    // editHandler.setInputAction(function (e) {\r\n    //   var shapeEditMenu = document.getElementById(\"toolbar\");\r\n    //   shapeEditMenu.style.display = \"none\";\r\n    // }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\r\n\r\n\r\n    // adding predicted point\r\n    // if (prediction) {\r\n    //   viewer.entities.add({\r\n    //     position: Cesium.Cartesian3.fromDegrees(parseInt(longitude), parseInt(latitude)),\r\n    //     point: {\r\n    //       pixelSize: 30,\r\n    //       color: Cesium.Color.CRIMSON.withAlpha(0.4),\r\n    //     },\r\n    //   });\r\n    // }\r\n\r\n    // populating locust locations on globe\r\n    var billboards = viewer.scene.primitives.add(new Cesium.BillboardCollection());\r\n    {\r\n      locationData.map(coords => {\r\n        billboards.add({\r\n          position: Cesium.Cartesian3.fromDegrees(coords.longitude, coords.latitude),\r\n          image: '/Assets/Images/locust.png'\r\n        });\r\n      })\r\n    }\r\n\r\n    // adding position marker\r\n    var entity = viewer.entities.add({\r\n      name: \"location\",\r\n      label: {\r\n        show: false,\r\n        showBackground: true,\r\n        font: \"14px monospace\",\r\n        style: Cesium.LabelStyle.FILL_AND_OUTLINE,\r\n        horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\r\n        verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\r\n        pixelOffset: new Cesium.Cartesian2(0, -9),\r\n      },\r\n    });\r\n\r\n    // showing position popup on mouse move\r\n    viewer.canvas.addEventListener('mousemove', function (e) {\r\n\r\n      var mousePosition = new Cesium.Cartesian2(e.clientX, e.clientY);\r\n      var ellipsoid = viewer.scene.globe.ellipsoid;\r\n      var cartesian = viewer.camera.pickEllipsoid(mousePosition, ellipsoid);\r\n\r\n      if (cartesian) {\r\n        var cartographic = ellipsoid.cartesianToCartographic(cartesian);\r\n        var longitudeString = Cesium.Math.toDegrees(cartographic.longitude).toFixed(2);\r\n        var latitudeString = Cesium.Math.toDegrees(cartographic.latitude).toFixed(2);\r\n\r\n        entity.position = cartesian;\r\n        entity.label.show = true;\r\n        entity.label.text = \"Lon: \" +\r\n          (\"   \" + longitudeString).slice(-7) +\r\n          \"\\u00B0\" +\r\n          \"\\nLat: \" +\r\n          (\"   \" + latitudeString).slice(-7) +\r\n          \"\\u00B0\";\r\n\r\n      } else {\r\n        entity.label.show = false;\r\n      }\r\n\r\n    }, false);\r\n\r\n    // Visualizing wind on the globe\r\n    const windOptions = {\r\n      colorScale: [\r\n        'rgb(36,104, 180)',\r\n        'rgb(60,157, 194)',\r\n        'rgb(128,205,193 )',\r\n        'rgb(151,218,168 )',\r\n        'rgb(198,231,181)',\r\n        'rgb(238,247,217)',\r\n        'rgb(255,238,159)',\r\n        'rgb(252,217,125)',\r\n        'rgb(255,182,100)',\r\n        'rgb(252,150,75)',\r\n        'rgb(250,112,52)',\r\n        'rgb(245,64,32)',\r\n        'rgb(237,45,28)',\r\n        'rgb(220,24,32)',\r\n        'rgb(180,0,35)',\r\n      ],\r\n      frameRate: 16,\r\n      maxAge: 60,\r\n      globalAlpha: 0.9,\r\n      velocityScale: 1 / 30,\r\n      paths: 2000\r\n    };\r\n\r\n    fetch('https://qjvic.github.io/cesium-wind/examples/wind.json')\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        const windLayer = new CesiumWind(res, { windOptions });\r\n        windLayer.addTo(viewer);\r\n      });\r\n  }\r\n\r\n  useEffect(async () => {\r\n    const locationData = await fetchData()\r\n    // const prediction = await predictedData\r\n    init(locationData);\r\n  }, [])\r\n\r\n  const prevLat = usePrevious(latitude);\r\n  const prevLong = usePrevious(longitude);\r\n  // const prevPredictedData = usePrevious(predictedData);\r\n\r\n  const onFormSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    setDisplayButtonMessage(\"Predicting...\")\r\n    console.log(\"Longitude: \" + longitude)\r\n    console.log(\"Latitude: \" + latitude)\r\n    let lat = latitude\r\n    let long = longitude\r\n\r\n    if (lat < 0 || long < 0) {\r\n      setDisplayButtonMessage(\"Predict\")\r\n      setDisplayMessage(\"Invalid input\")\r\n      setPredictedData(0)\r\n    }\r\n    else if (prevLat === lat && prevLong === long) {\r\n      setDisplayButtonMessage(\"Predict\")\r\n      console.log(\"lat and long matched with prev values\")\r\n    }\r\n    else {\r\n      let data = `lat-${lat}-long-${long}`\r\n      axios.post(`https://landcoverapi.azurewebsites.net/predict/${data}`)\r\n        .then(response => {\r\n          setDisplayButtonMessage(\"Done ✔️\")\r\n          setDisplayMessage(\"Probability = \" + response.data.risk.toFixed(2) + \"%\")\r\n          // plotPredictedPoint(longitude, latitude)\r\n          setPredictedData(response.data.risk / 100)\r\n          console.log(response.data.risk / 100)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  const onResetHandler = (event) => {\r\n    event.preventDefault();\r\n    setDisplayMessage(\"\")\r\n    setDisplayButtonMessage(\"Predict\")\r\n    setLongitude(0)\r\n    setLatitude(0)\r\n    setPredictedData(null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"cesium\" />\r\n      <div id=\"toolbar\" />\r\n      <div className={classes.MetricsContainer}>\r\n        <div className={classes.Content}>\r\n          <h1>Predict Probability of Locust Attack</h1>\r\n          <div className={classes.Form}>\r\n            <div className={classes.FormEntity}>\r\n              <label htmlFor=\"longitude\">longitude: </label>\r\n              <input type=\"text\" name=\"long\" value={longitude} onChange={(e) => setLongitude(e.target.value)} />\r\n            </div>\r\n            <div className={classes.FormEntity}>\r\n              <label htmlFor=\"latitude\">latitude: </label>\r\n              <input type=\"text\" name=\"lat\" value={latitude} onChange={(e) => setLatitude(e.target.value)} />\r\n            </div>\r\n            <div className={classes.ButtonsContainer}>\r\n              <button onClick={onFormSubmitHandler}>{displayButtonMessage}</button>\r\n              <button onClick={onResetHandler}>Reset</button>\r\n            </div>\r\n            <div className={classes.DisplayMessage}>{displayMessage}</div>\r\n          </div>\r\n        </div>\r\n        <div className={classes.GuageContainer}>\r\n          <GaugeChart id=\"gauge-chart2\"\r\n            nrOfLevels={420}\r\n            arcsLength={[0.2, 0.5, 0.2]}\r\n            colors={['#5BE12C', '#F5CD19', '#EA4228']}\r\n            percent={predictedData}\r\n            arcPadding={0.02}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Tracking;"]},"metadata":{},"sourceType":"module"}